---
# Configuration for dashboard.daic.tudelft.nl
# This file contains the specific settings for your DAIC deployment

# ============================================================================
# Application Deployment
# ============================================================================

# Option 1: Deploy from Git repository
git_repo_url: "https://gitlab.ewi.tudelft.nl/sdrwacker/slurm-usage-history.git"
git_branch: "main"

# Option 2: Deploy from local directory (comment out git_repo_url to use this)
# local_app_path: "/path/to/local/slurm-usage-history"

# ============================================================================
# Application Configuration
# ============================================================================

# Base URL of the application
base_url: "https://dashboard.daic.tudelft.nl"

# CORS origins (same as base_url typically)
cors_origins: "https://dashboard.daic.tudelft.nl"

# Auto-refresh interval for data (seconds)
auto_refresh_interval: 600

# Frontend API URL (for Vite build)
vite_api_url: "https://dashboard.daic.tudelft.nl/api"

# Number of gunicorn workers (adjust based on CPU cores)
gunicorn_workers: 4

# ============================================================================
# Secrets (MOVE THESE TO secrets.yml with ansible-vault)
# ============================================================================

# API keys for data ingestion (comma-separated)
# Generate with: openssl rand -base64 32
# SECURITY: Move to secrets.yml and encrypt with ansible-vault
api_keys: "CHANGE-ME-key1,CHANGE-ME-key2,CHANGE-ME-key3"

# Secret key for JWT session tokens
# Generate with: openssl rand -hex 32
# SECURITY: Move to secrets.yml and encrypt with ansible-vault
secret_key: "CHANGE-ME-GENERATE-WITH-OPENSSL-RAND-HEX-32"

# ============================================================================
# SAML Configuration
# ============================================================================

enable_saml: true

# SAML Identity Provider (IdP) Configuration
# For TU Delft, contact IT Services for these values
saml_idp_entity_id: "https://idp.tudelft.nl/saml/metadata"
saml_idp_sso_url: "https://idp.tudelft.nl/saml/sso"
saml_idp_slo_url: "https://idp.tudelft.nl/saml/slo"

# SAML IdP Certificate
# SECURITY: Move to secrets.yml and encrypt with ansible-vault
# Get this from TU Delft IT Services or IdP metadata
saml_idp_cert: |
  CHANGE-ME-PASTE-TUDELFT-IDP-CERTIFICATE-HERE

# SAML Service Provider (SP) Certificates
# These will be auto-generated if not provided

# SAML Security Settings
saml_strict: true
saml_debug: false
saml_sign_requests: false
saml_sign_metadata: false
saml_want_messages_signed: false
saml_want_assertions_signed: true

# SAML Contact Information
technical_contact_name: "SÃ¶ren Wacker"
technical_contact_email: "s.wacker@gmail.com"
support_contact_name: "DAIC Support"
support_contact_email: "support@daic.tudelft.nl"

# Organization Information
organization_name: "TU Delft - DAIC"
organization_display_name: "Delft Advanced Infrastructure for Computing"
organization_url: "https://daic.tudelft.nl"

# ============================================================================
# SSL/TLS Configuration (Using existing Let's Encrypt)
# ============================================================================

enable_https: true
server_name: "dashboard.daic.tudelft.nl"

# Existing Let's Encrypt certificates
ssl_cert_path: "/etc/letsencrypt/live/dashboard.daic.tudelft.nl/fullchain.pem"
ssl_key_path: "/etc/letsencrypt/live/dashboard.daic.tudelft.nl/privkey.pem"

# ============================================================================
# Port Configuration
# ============================================================================

# Backend will run on port 8100 (localhost only)
# Nginx will proxy from 443 to 8100
backend_port: 8100
