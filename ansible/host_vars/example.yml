---
# Example host-specific variables template
#
# USAGE:
# 1. Copy this file to create your own host configuration:
#    cp ansible/host_vars/example.yml ansible/host_vars/<your-hostname>.yml
#
# 2. Update all the placeholder values below with your actual configuration
#
# 3. Add your actual host file to .gitignore to keep sensitive data secure:
#    echo "ansible/host_vars/<your-hostname>.yml" >> .gitignore
#
# 4. Update ansible/hosts inventory file with your hostname

# Application deployment paths
app_user: slurmusage                          # Service user for running the application
app_group: slurmusage                         # Service group
app_base_dir: /opt/slurm-usage-history        # Installation directory (user-neutral)
app_data_dir: /data/slurm-usage-history       # Data storage directory (should be on mounted/persistent storage)

# Old deployment location (for reference during migration)
# old_app_dir: /home/username/workspace/slurm-usage-history

# SAML Configuration
saml_enabled: true
saml_sp_entity_id: "https://your-domain.edu/saml/metadata"
saml_sp_acs_url: "https://your-domain.edu/api/saml/acs"
saml_sp_sls_url: "https://your-domain.edu/api/saml/sls"

# IdP Configuration
# Extract these from your Identity Provider or existing SAML configuration
saml_idp_entity_id: "https://idp.your-domain.edu/idp/shibboleth"
saml_idp_sso_url: "https://idp.your-domain.edu/idp/profile/SAML2/Redirect/SSO"
saml_idp_slo_url: "https://idp.your-domain.edu/idp/profile/SAML2/Redirect/SLO"
saml_idp_x509_cert: |
  -----BEGIN CERTIFICATE-----
  MIIDXTCCAkWgAwIBAgIJAKxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
  xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
  xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
  xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
  xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
  xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
  xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
  xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
  xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
  xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
  xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
  xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
  xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
  xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
  xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
  xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
  xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
  xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx==
  -----END CERTIFICATE-----

# Security Settings
saml_strict_mode: true
saml_debug: false  # Set to true for debugging SAML issues

# JWT Session Configuration
# IMPORTANT: Generate a secure random secret key (64+ characters)
# Example: openssl rand -base64 64
jwt_secret_key: "{{ lookup('password', '/dev/null length=64 chars=ascii_letters,digits') }}"
jwt_algorithm: "HS256"
session_expiry_hours: 24

# Application Settings
app_domain: "your-domain.edu"
backend_port: 8100
frontend_port: 3000

# Nginx Configuration
nginx_server_name: "your-domain.edu"

# SSL Certificate paths
# Update these to match your actual SSL certificate locations
ssl_certificate_path: "/etc/ssl/certs/your-domain.crt"
ssl_certificate_key_path: "/etc/ssl/private/your-domain.key"

# Python and Node versions
# Adjust based on what's available on your server
python_version: "3.11"
node_version: "20"

# Service restart policy
backend_restart_policy: "always"
backend_restart_sec: 5

# Data migration settings
migrate_old_data: false  # Set to true if Ansible should copy data from old location
# If migrate_old_data is true, data will be copied from old_data_dir to app_data_dir

# Backup settings
create_backup: true  # Create backup of old deployment before migration
backup_dir: "/home/{{ ansible_user }}/migration-backups"
